/*
 Highmaps JS v9.1.0 (2021-05-03)

 Highmaps as a plugin for Highcharts or Highcharts Stock.

 (c) 2011-2021 Torstein Honsi

 License: www.highcharts.com/license
*/
(function(a){"object"===typeof module&&module.exports?(a["default"]=a,module.exports=a):"function"===typeof define&&define.amd?define("highcharts/modules/map",["highcharts"],function(v){a(v);a.Highcharts=v;return a}):a("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(a){function v(a,m,n,p){a.hasOwnProperty(m)||(a[m]=p.apply(null,n))}a=a?a._modules:{};v(a,"Core/Axis/MapAxis.js",[a["Core/Axis/Axis.js"],a["Core/Utilities.js"]],function(a,m){var t=m.addEvent,p=m.pick,l=function(){return function(a){this.axis=
a}}();m=function(){function a(){}a.compose=function(e){e.keepProps.push("mapAxis");t(e,"init",function(){this.mapAxis||(this.mapAxis=new l(this))});t(e,"getSeriesExtremes",function(){if(this.mapAxis){var h=[];this.isXAxis&&(this.series.forEach(function(c,d){c.useMapGeometry&&(h[d]=c.xData,c.xData=[])}),this.mapAxis.seriesXData=h)}});t(e,"afterGetSeriesExtremes",function(){if(this.mapAxis){var h=this.mapAxis.seriesXData||[],c;if(this.isXAxis){var d=p(this.dataMin,Number.MAX_VALUE);var f=p(this.dataMax,
-Number.MAX_VALUE);this.series.forEach(function(b,e){b.useMapGeometry&&(d=Math.min(d,p(b.minX,d)),f=Math.max(f,p(b.maxX,f)),b.xData=h[e],c=!0)});c&&(this.dataMin=d,this.dataMax=f);this.mapAxis.seriesXData=void 0}}});t(e,"afterSetAxisTranslation",function(){if(this.mapAxis){var h=this.chart,c=h.plotWidth/h.plotHeight;h=h.xAxis[0];var d;"yAxis"===this.coll&&"undefined"!==typeof h.transA&&this.series.forEach(function(c){c.preserveAspectRatio&&(d=!0)});if(d&&(this.transA=h.transA=Math.min(this.transA,
h.transA),c/=(h.max-h.min)/(this.max-this.min),c=1>c?this:h,h=(c.max-c.min)*c.transA,c.mapAxis.pixelPadding=c.len-h,c.minPixelPadding=c.mapAxis.pixelPadding/2,h=c.mapAxis.fixTo)){h=h[1]-c.toValue(h[0],!0);h*=c.transA;if(Math.abs(h)>c.minPixelPadding||c.min===c.dataMin&&c.max===c.dataMax)h=0;c.minPixelPadding-=h}}});t(e,"render",function(){this.mapAxis&&(this.mapAxis.fixTo=void 0)})};return a}();m.compose(a);return m});v(a,"Mixins/ColorSeries.js",[],function(){return{colorPointMixin:{setVisible:function(a){var t=
this,n=a?"show":"hide";t.visible=t.options.visible=!!a;["graphic","dataLabel"].forEach(function(a){if(t[a])t[a][n]()});this.series.buildKDTree()}},colorSeriesMixin:{optionalAxis:"colorAxis",colorAxis:0,translateColors:function(){var a=this,m=this.options.nullColor,n=this.colorAxis,p=this.colorKey;(this.data.length?this.data:this.points).forEach(function(l){var g=l.getNestedProperty(p);(g=l.options.color||(l.isNull||null===l.value?m:n&&"undefined"!==typeof g?n.toColor(g,l):l.color||a.color))&&l.color!==
g&&(l.color=g,"point"===a.options.legendType&&l.legendItem&&a.chart.legend.colorizeItem(l,l.visible))})}}}});v(a,"Core/Axis/ColorAxis.js",[a["Core/Axis/Axis.js"],a["Core/Chart/Chart.js"],a["Core/Color/Color.js"],a["Mixins/ColorSeries.js"],a["Core/Animation/Fx.js"],a["Core/Globals.js"],a["Core/Legend.js"],a["Mixins/LegendSymbol.js"],a["Core/Color/Palette.js"],a["Core/Series/Point.js"],a["Core/Series/Series.js"],a["Core/Utilities.js"]],function(a,m,n,p,l,g,e,h,c,d,f,b){var E=this&&this.__extends||function(){var k=
function(b,c){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,r){k.__proto__=r}||function(k,r){for(var b in r)r.hasOwnProperty(b)&&(k[b]=r[b])};return k(b,c)};return function(b,c){function d(){this.constructor=b}k(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),t=n.parse;n=p.colorPointMixin;p=p.colorSeriesMixin;var x=g.noop,z=b.addEvent,y=b.extend,B=b.isNumber,C=b.merge,u=b.pick,q=b.splat;"";y(f.prototype,p);y(d.prototype,n);m.prototype.collectionsWithUpdate.push("colorAxis");
m.prototype.collectionsWithInit.colorAxis=[m.prototype.addColorAxis];var k=function(k){function b(b,c){var r=k.call(this,b,c)||this;r.beforePadding=!1;r.chart=void 0;r.coll="colorAxis";r.dataClasses=void 0;r.legendItem=void 0;r.legendItems=void 0;r.name="";r.options=void 0;r.stops=void 0;r.visible=!0;r.init(b,c);return r}E(b,k);b.prototype.init=function(c,d){var r=c.options.legend||{},A=d.layout?"vertical"!==d.layout:"vertical"!==r.layout;r=C(b.defaultColorAxisOptions,d,{showEmpty:!1,title:null,visible:r.enabled&&
(d?!1!==d.visible:!0)});this.coll="colorAxis";this.side=d.side||A?2:1;this.reversed=d.reversed||!A;this.opposite=!A;k.prototype.init.call(this,c,r);d.dataClasses&&this.initDataClasses(d);this.initStops();this.horiz=A;this.zoomEnabled=!1};b.prototype.initDataClasses=function(b){var k=this.chart,r,c=0,d=k.options.chart.colorCount,q=this.options,f=b.dataClasses.length;this.dataClasses=r=[];this.legendItems=[];b.dataClasses.forEach(function(b,A){b=C(b);r.push(b);if(k.styledMode||!b.color)"category"===
q.dataClassColor?(k.styledMode||(A=k.options.colors,d=A.length,b.color=A[c]),b.colorIndex=c,c++,c===d&&(c=0)):b.color=t(q.minColor).tweenTo(t(q.maxColor),2>f?.5:A/(f-1))})};b.prototype.hasData=function(){return!!(this.tickPositions||[]).length};b.prototype.setTickPositions=function(){if(!this.dataClasses)return k.prototype.setTickPositions.call(this)};b.prototype.initStops=function(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]];this.stops.forEach(function(b){b.color=
t(b[1])})};b.prototype.setOptions=function(b){k.prototype.setOptions.call(this,b);this.options.crosshair=this.options.marker};b.prototype.setAxisSize=function(){var k=this.legendSymbol,c=this.chart,r=c.options.legend||{},d,q;k?(this.left=r=k.attr("x"),this.top=d=k.attr("y"),this.width=q=k.attr("width"),this.height=k=k.attr("height"),this.right=c.chartWidth-r-q,this.bottom=c.chartHeight-d-k,this.len=this.horiz?q:k,this.pos=this.horiz?r:d):this.len=(this.horiz?r.symbolWidth:r.symbolHeight)||b.defaultLegendLength};
b.prototype.normalizedValue=function(b){this.logarithmic&&(b=this.logarithmic.log2lin(b));return 1-(this.max-b)/(this.max-this.min||1)};b.prototype.toColor=function(b,k){var r=this.dataClasses,c=this.stops,d;if(r)for(d=r.length;d--;){var q=r[d];var f=q.from;c=q.to;if(("undefined"===typeof f||b>=f)&&("undefined"===typeof c||b<=c)){var h=q.color;k&&(k.dataClass=d,k.colorIndex=q.colorIndex);break}}else{b=this.normalizedValue(b);for(d=c.length;d--&&!(b>c[d][0]););f=c[d]||c[d+1];c=c[d+1]||f;b=1-(c[0]-
b)/(c[0]-f[0]||1);h=f.color.tweenTo(c.color,b)}return h};b.prototype.getOffset=function(){var b=this.legendGroup,c=this.chart.axisOffset[this.side];b&&(this.axisParent=b,k.prototype.getOffset.call(this),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=c)};b.prototype.setLegendColor=function(){var b=this.reversed,k=b?1:0;b=b?0:1;k=this.horiz?[k,0,b,0]:[0,b,0,k];this.legendColor={linearGradient:{x1:k[0],y1:k[1],x2:k[2],y2:k[3]},stops:this.stops}};
b.prototype.drawLegendSymbol=function(k,c){var r=k.padding,d=k.options,q=this.horiz,f=u(d.symbolWidth,q?b.defaultLegendLength:12),h=u(d.symbolHeight,q?12:b.defaultLegendLength),e=u(d.labelPadding,q?16:30);d=u(d.itemDistance,10);this.setLegendColor();c.legendSymbol=this.chart.renderer.rect(0,k.baseline-11,f,h).attr({zIndex:1}).add(c.legendGroup);this.legendItemWidth=f+r+(q?d:e);this.legendItemHeight=h+r+(q?e:0)};b.prototype.setState=function(b){this.series.forEach(function(k){k.setState(b)})};b.prototype.setVisible=
function(){};b.prototype.getSeriesExtremes=function(){var b=this.series,k=b.length,r;this.dataMin=Infinity;for(this.dataMax=-Infinity;k--;){var c=b[k];var d=c.colorKey=u(c.options.colorKey,c.colorKey,c.pointValKey,c.zoneAxis,"y");var q=c.pointArrayMap;var h=c[d+"Min"]&&c[d+"Max"];if(c[d+"Data"])var e=c[d+"Data"];else if(q){e=[];q=q.indexOf(d);var a=c.yData;if(0<=q&&a)for(r=0;r<a.length;r++)e.push(u(a[r][q],a[r]))}else e=c.yData;h?(c.minColorValue=c[d+"Min"],c.maxColorValue=c[d+"Max"]):(e=f.prototype.getExtremes.call(c,
e),c.minColorValue=e.dataMin,c.maxColorValue=e.dataMax);"undefined"!==typeof c.minColorValue&&(this.dataMin=Math.min(this.dataMin,c.minColorValue),this.dataMax=Math.max(this.dataMax,c.maxColorValue));h||f.prototype.applyExtremes.call(c)}};b.prototype.drawCrosshair=function(b,c){var d=c&&c.plotX,q=c&&c.plotY,f=this.pos,h=this.len;if(c){var e=this.toPixels(c.getNestedProperty(c.series.colorKey));e<f?e=f-2:e>f+h&&(e=f+h+2);c.plotX=e;c.plotY=this.len-e;k.prototype.drawCrosshair.call(this,b,c);c.plotX=
d;c.plotY=q;this.cross&&!this.cross.addedToColorAxis&&this.legendGroup&&(this.cross.addClass("highcharts-coloraxis-marker").add(this.legendGroup),this.cross.addedToColorAxis=!0,this.chart.styledMode||"object"!==typeof this.crosshair||this.cross.attr({fill:this.crosshair.color}))}};b.prototype.getPlotLinePath=function(b){var c=this.left,d=b.translatedValue,q=this.top;return B(d)?this.horiz?[["M",d-4,q-6],["L",d+4,q-6],["L",d,q],["Z"]]:[["M",c,d],["L",c-6,d+6],["L",c-6,d-6],["Z"]]:k.prototype.getPlotLinePath.call(this,
b)};b.prototype.update=function(b,c){var d=this.chart.legend;this.series.forEach(function(b){b.isDirtyData=!0});(b.dataClasses&&d.allItems||this.dataClasses)&&this.destroyItems();k.prototype.update.call(this,b,c);this.legendItem&&(this.setLegendColor(),d.colorizeItem(this,!0))};b.prototype.destroyItems=function(){var b=this.chart;this.legendItem?b.legend.destroyItem(this):this.legendItems&&this.legendItems.forEach(function(c){b.legend.destroyItem(c)});b.isDirtyLegend=!0};b.prototype.destroy=function(){this.chart.isDirtyLegend=
!0;this.destroyItems();k.prototype.destroy.apply(this,[].slice.call(arguments))};b.prototype.remove=function(b){this.destroyItems();k.prototype.remove.call(this,b)};b.prototype.getDataClassLegendSymbols=function(){var b=this,c=b.chart,k=b.legendItems,d=c.options.legend,q=d.valueDecimals,f=d.valueSuffix||"",e;k.length||b.dataClasses.forEach(function(d,r){var u=!0,a=d.from,w=d.to,A=c.numberFormatter;e="";"undefined"===typeof a?e="< ":"undefined"===typeof w&&(e="> ");"undefined"!==typeof a&&(e+=A(a,
q)+f);"undefined"!==typeof a&&"undefined"!==typeof w&&(e+=" - ");"undefined"!==typeof w&&(e+=A(w,q)+f);k.push(y({chart:c,name:e,options:{},drawLegendSymbol:h.drawRectangle,visible:!0,setState:x,isDataClass:!0,setVisible:function(){u=b.visible=!u;b.series.forEach(function(b){b.points.forEach(function(b){b.dataClass===r&&b.setVisible(u)})});c.legend.colorizeItem(this,u)}},d))});return k};b.defaultLegendLength=200;b.defaultColorAxisOptions={lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,
startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:c.neutralColor40},labels:{overflow:"justify",rotation:0},minColor:c.highlightColor10,maxColor:c.highlightColor100,tickLength:5,showInLegend:!0};b.keepProps=["legendGroup","legendItemHeight","legendItemWidth","legendItem","legendSymbol"];return b}(a);Array.prototype.push.apply(a.keepProps,k.keepProps);g.ColorAxis=k;["fill","stroke"].forEach(function(b){l.prototype[b+"Setter"]=function(){this.elem.attr(b,t(this.start).tweenTo(t(this.end),
this.pos),null,!0)}});z(m,"afterGetAxes",function(){var b=this,c=b.options;this.colorAxis=[];c.colorAxis&&(c.colorAxis=q(c.colorAxis),c.colorAxis.forEach(function(c,d){c.index=d;new k(b,c)}))});z(f,"bindAxes",function(){var b=this.axisTypes;b?-1===b.indexOf("colorAxis")&&b.push("colorAxis"):this.axisTypes=["colorAxis"]});z(e,"afterGetAllItems",function(b){var c=this,k=[],d,q,f=function(k){k=b.allItems.indexOf(k);-1!==k&&(c.destroyItem(b.allItems[k]),b.allItems.splice(k,1))};(this.chart.colorAxis||
[]).forEach(function(b){(d=b.options)&&d.showInLegend&&(d.dataClasses&&d.visible?k=k.concat(b.getDataClassLegendSymbols()):d.visible&&k.push(b),b.series.forEach(function(b){if(!b.options.showInLegend||d.dataClasses)"point"===b.options.legendType?b.points.forEach(function(b){f(b)}):f(b)}))});for(q=k.length;q--;)b.allItems.unshift(k[q])});z(e,"afterColorizeItem",function(b){b.visible&&b.item.legendColor&&b.item.legendSymbol.attr({fill:b.item.legendColor})});z(e,"afterUpdate",function(){var b=this.chart.colorAxis;
b&&b.forEach(function(b,c,k){b.update({},k)})});z(f,"afterTranslate",function(){(this.chart.colorAxis&&this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()});return k});v(a,"Mixins/ColorMapSeries.js",[a["Core/Globals.js"],a["Core/Series/Point.js"],a["Core/Utilities.js"]],function(a,m,n){var t=n.defined;n=n.addEvent;var l=a.noop;a=a.seriesTypes;n(m,"afterSetState",function(a){this.moveToTopOnHover&&this.graphic&&this.graphic.attr({zIndex:a&&"hover"===a.state?1:0})});return{colorMapPointMixin:{dataLabelOnNull:!0,
moveToTopOnHover:!0,isValid:function(){return null!==this.value&&Infinity!==this.value&&-Infinity!==this.value}},colorMapSeriesMixin:{pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:l,parallelArrays:["x","y","value"],colorKey:"value",pointAttribs:a.column.prototype.pointAttribs,colorAttribs:function(a){var e={};t(a.color)&&(e[this.colorProp||"fill"]=a.color);return e}}}});v(a,"Maps/MapNavigationOptionsDefault.js",[a["Core/Options.js"],
a["Core/Utilities.js"]],function(a,m){m=m.extend;var t={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{fontSize:"15px",fontWeight:"bold"},theme:{"stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1};m(a.defaultOptions.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"});return a.defaultOptions.mapNavigation=
t});v(a,"Maps/MapNavigation.js",[a["Core/Chart/Chart.js"],a["Core/Globals.js"],a["Core/Utilities.js"]],function(a,m,n){function t(b){b&&(b.preventDefault&&b.preventDefault(),b.stopPropagation&&b.stopPropagation(),b.cancelBubble=!0)}function l(b){this.init(b)}var g=m.doc,e=n.addEvent,h=n.extend,c=n.merge,d=n.objectEach,f=n.pick;l.prototype.init=function(b){this.chart=b;b.mapNavButtons=[]};l.prototype.update=function(b){var a=this.chart,l=a.options.mapNavigation,g,m,n,p,C=function(b){this.handler.call(a,
b);t(b)},u=a.mapNavButtons;b&&(l=a.options.mapNavigation=c(a.options.mapNavigation,b));for(;u.length;)u.pop().destroy();f(l.enableButtons,l.enabled)&&!a.renderer.forExport&&d(l.buttons,function(b,k){b=c(l.buttonOptions,b);!a.styledMode&&b.theme&&(g=b.theme,g.style=c(b.theme.style,b.style),n=(m=g.states)&&m.hover,p=m&&m.select,delete g.states);var d=a.renderer.button(b.text||"",0,0,C,g,n,p,void 0,"zoomIn"===k?"topbutton":"bottombutton").addClass("highcharts-map-navigation highcharts-"+{zoomIn:"zoom-in",
zoomOut:"zoom-out"}[k]).attr({width:b.width,height:b.height,title:a.options.lang[k],padding:b.padding,zIndex:5}).add();d.handler=b.onclick;e(d.element,"dblclick",t);u.push(d);h(b,{width:d.width,height:2*d.height});if(a.hasLoaded)d.align(b,!1,b.alignTo);else var q=e(a,"load",function(){d.element&&d.align(b,!1,b.alignTo);q()})});this.updateEvents(l)};l.prototype.updateEvents=function(b){var c=this.chart;f(b.enableDoubleClickZoom,b.enabled)||b.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||
e(c.container,"dblclick",function(b){c.pointer.onContainerDblClick(b)}):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick());f(b.enableMouseWheelZoom,b.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||e(c.container,void 0!==g.onwheel?"wheel":void 0!==g.onmousewheel?"mousewheel":"DOMMouseScroll",function(b){c.pointer.inClass(b.target,"highcharts-no-mousewheel")||(c.pointer.onContainerMouseWheel(b),t(b));return!1}):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())};
h(a.prototype,{fitToBox:function(b,c){[["x","width"],["y","height"]].forEach(function(d){var f=d[0];d=d[1];b[f]+b[d]>c[f]+c[d]&&(b[d]>c[d]?(b[d]=c[d],b[f]=c[f]):b[f]=c[f]+c[d]-b[d]);b[d]>c[d]&&(b[d]=c[d]);b[f]<c[f]&&(b[f]=c[f])});return b},mapZoom:function(b,c,d,a,e,h){var l=this.xAxis[0],g=l.max-l.min,u=f(c,l.min+g/2),q=g*b;g=this.yAxis[0];var k=g.max-g.min,w=f(d,g.min+k/2);k*=b;u=this.fitToBox({x:u-q*(a?(a-l.pos)/l.len:.5),y:w-k*(e?(e-g.pos)/g.len:.5),width:q,height:k},{x:l.dataMin,y:g.dataMin,
width:l.dataMax-l.dataMin,height:g.dataMax-g.dataMin});q=u.x<=l.dataMin&&u.width>=l.dataMax-l.dataMin&&u.y<=g.dataMin&&u.height>=g.dataMax-g.dataMin;a&&l.mapAxis&&(l.mapAxis.fixTo=[a-l.pos,c]);e&&g.mapAxis&&(g.mapAxis.fixTo=[e-g.pos,d]);"undefined"===typeof b||q?(l.setExtremes(void 0,void 0,!1),g.setExtremes(void 0,void 0,!1)):(l.setExtremes(u.x,u.x+u.width,!1),g.setExtremes(u.y,u.y+u.height,!1));this.redraw(h)}});e(a,"beforeRender",function(){this.mapNavigation=new l(this);this.mapNavigation.update()});
m.MapNavigation=l});v(a,"Maps/MapPointer.js",[a["Core/Pointer.js"],a["Core/Utilities.js"]],function(a,m){var t=m.extend,p=m.pick;m=m.wrap;var l=0,g;t(a.prototype,{onContainerDblClick:function(a){var e=this.chart;a=this.normalize(a);e.options.mapNavigation.enableDoubleClickZoomTo?e.pointer.inClass(a.target,"highcharts-tracker")&&e.hoverPoint&&e.hoverPoint.zoomTo():e.isInsidePlot(a.chartX-e.plotLeft,a.chartY-e.plotTop)&&e.mapZoom(.5,e.xAxis[0].toValue(a.chartX),e.yAxis[0].toValue(a.chartY),a.chartX,
a.chartY)},onContainerMouseWheel:function(a){var e=this.chart;a=this.normalize(a);var c=a.deltaY||a.detail||-(a.wheelDelta/120);1<=Math.abs(c)&&(l+=Math.abs(c),g&&clearTimeout(g),g=setTimeout(function(){l=0},50));10>l&&e.isInsidePlot(a.chartX-e.plotLeft,a.chartY-e.plotTop)&&e.mapZoom(Math.pow(e.options.mapNavigation.mouseWheelSensitivity,c),e.xAxis[0].toValue(a.chartX),e.yAxis[0].toValue(a.chartY),a.chartX,a.chartY,1>Math.abs(c)?!1:void 0)}});m(a.prototype,"zoomOption",function(a){var e=this.chart.options.mapNavigation;
p(e.enableTouchZoom,e.enabled)&&(this.chart.options.chart.pinchType="xy");a.apply(this,[].slice.call(arguments,1))});m(a.prototype,"pinchTranslate",function(a,h,c,d,f,b,l){a.call(this,h,c,d,f,b,l);"map"===this.chart.options.chart.type&&this.hasZoom&&(a=d.scaleX>d.scaleY,this.pinchTranslateDirection(!a,h,c,d,f,b,l,a?d.scaleX:d.scaleY))})});v(a,"Maps/MapSymbols.js",[a["Core/Globals.js"],a["Core/Renderer/SVG/SVGRenderer.js"]],function(a,m){function t(a,g,e,h,c,d,f,b){return[["M",a+c,g],["L",a+e-d,g],
["C",a+e-d/2,g,a+e,g+d/2,a+e,g+d],["L",a+e,g+h-f],["C",a+e,g+h-f/2,a+e-f/2,g+h,a+e-f,g+h],["L",a+b,g+h],["C",a+b/2,g+h,a,g+h-b/2,a,g+h-b],["L",a,g+c],["C",a,g+c/2,a+c/2,g,a+c,g],["Z"]]}var p=a.Renderer;m.prototype.symbols.topbutton=function(a,g,e,h,c){c=c&&c.r||0;return t(a-1,g-1,e,h,c,c,0,0)};m.prototype.symbols.bottombutton=function(a,g,e,h,c){c=c&&c.r||0;return t(a-1,g-1,e,h,0,0,c,c)};p!==m&&["topbutton","bottombutton"].forEach(function(a){p.prototype.symbols[a]=m.prototype.symbols[a]});return m.prototype.symbols});
v(a,"Core/Chart/MapChart.js",[a["Core/Chart/Chart.js"],a["Core/Options.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],function(a,m,n,p){var l=this&&this.__extends||function(){var c=function(d,a){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var d in c)c.hasOwnProperty(d)&&(b[d]=c[d])};return c(d,a)};return function(d,a){function b(){this.constructor=d}c(d,a);d.prototype=null===a?Object.create(a):(b.prototype=a.prototype,
new b)}}(),g=m.getOptions,e=p.merge,h=p.pick;a=function(c){function d(){return null!==c&&c.apply(this,arguments)||this}l(d,c);d.prototype.init=function(d,b){var a={endOnTick:!1,visible:!1,minPadding:0,maxPadding:0,startOnTick:!1},f=d.series,l=g().credits;d.series=void 0;d=e({chart:{panning:{enabled:!0,type:"xy"},type:"map"},credits:{mapText:h(l.mapText,' \u00a9 <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:h(l.mapTextFull,"{geojson.copyright}")},tooltip:{followTouchMove:!1},
xAxis:a,yAxis:e(a,{reversed:!0})},d,{chart:{inverted:!1,alignTicks:!1}});d.series=f;c.prototype.init.call(this,d,b)};return d}(a);(function(c){c.maps={};c.mapChart=function(d,a,b){return new c(d,a,b)};c.splitPath=function(c){"string"===typeof c&&(c=c.replace(/([A-Za-z])/g," $1 ").replace(/^\s*/,"").replace(/\s*$/,""),c=c.split(/[ ,;]+/).map(function(c){return/[A-za-z]/.test(c)?c:parseFloat(c)}));return n.prototype.pathToSegments(c)}})(a||(a={}));return a});v(a,"Series/Map/MapPoint.js",[a["Mixins/ColorMapSeries.js"],
a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,m,n){var t=this&&this.__extends||function(){var a=function(e,h){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var a in d)d.hasOwnProperty(a)&&(c[a]=d[a])};return a(e,h)};return function(e,h){function c(){this.constructor=e}a(e,h);e.prototype=null===h?Object.create(h):(c.prototype=h.prototype,new c)}}();a=a.colorMapPointMixin;var l=n.extend;m=function(a){function e(){var e=
null!==a&&a.apply(this,arguments)||this;e.options=void 0;e.path=void 0;e.series=void 0;return e}t(e,a);e.prototype.applyOptions=function(e,c){var d=this.series;e=a.prototype.applyOptions.call(this,e,c);c=d.joinBy;d.mapData&&d.mapMap&&(c=a.prototype.getNestedProperty.call(e,c[1]),(c="undefined"!==typeof c&&d.mapMap[c])?(d.xyFromShape&&(e.x=c._midX,e.y=c._midY),l(e,c)):e.value=e.value||null);return e};e.prototype.onMouseOver=function(e){n.clearTimeout(this.colorInterval);if(null!==this.value||this.series.options.nullInteraction)a.prototype.onMouseOver.call(this,
e);else this.series.onMouseOut(e)};e.prototype.zoomTo=function(){var a=this.series;a.xAxis.setExtremes(this._minX,this._maxX,!1);a.yAxis.setExtremes(this._minY,this._maxY,!1);a.chart.redraw()};return e}(m.seriesTypes.scatter.prototype.pointClass);l(m.prototype,{dataLabelOnNull:a.dataLabelOnNull,isValid:a.isValid,moveToTopOnHover:a.moveToTopOnHover});return m});v(a,"Series/Map/MapSeries.js",[a["Mixins/ColorMapSeries.js"],a["Core/Globals.js"],a["Mixins/LegendSymbol.js"],a["Core/Chart/MapChart.js"],
a["Series/Map/MapPoint.js"],a["Core/Color/Palette.js"],a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],function(a,m,n,p,l,g,e,h,c,d){var f=this&&this.__extends||function(){var b=function(c,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var a in c)c.hasOwnProperty(a)&&(b[a]=c[a])};return b(c,a)};return function(c,a){function d(){this.constructor=c}b(c,a);c.prototype=
null===a?Object.create(a):(d.prototype=a.prototype,new d)}}();a=a.colorMapSeriesMixin;var b=m.noop,t=p.maps,G=p.splitPath;p=h.seriesTypes;var x=p.column,z=p.scatter;p=d.extend;var y=d.fireEvent,B=d.getNestedProperty,C=d.isArray,u=d.isNumber,q=d.merge,k=d.objectEach,w=d.pick,D=d.splat;d=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;a.baseTrans=void 0;a.chart=void 0;a.data=void 0;a.group=void 0;a.joinBy=void 0;a.options=void 0;a.points=void 0;a.transformGroup=void 0;return a}
f(a,b);a.prototype.animate=function(b){var a=this.options.animation,c=this.group,d=this.xAxis,k=this.yAxis,e=d.pos,q=k.pos;this.chart.renderer.isSVG&&(!0===a&&(a={duration:1E3}),b?c.attr({translateX:e+d.len/2,translateY:q+k.len/2,scaleX:.001,scaleY:.001}):c.animate({translateX:e,translateY:q,scaleX:1,scaleY:1},a))};a.prototype.animateDrilldown=function(b){var a=this.chart.plotBox,c=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1],d=c.bBox,k=this.chart.options.drilldown.animation;b||
(b=Math.min(d.width/a.width,d.height/a.height),c.shapeArgs={scaleX:b,scaleY:b,translateX:d.x,translateY:d.y},this.points.forEach(function(b){b.graphic&&b.graphic.attr(c.shapeArgs).animate({scaleX:1,scaleY:1,translateX:0,translateY:0},k)}))};a.prototype.animateDrillupFrom=function(b){x.prototype.animateDrillupFrom.call(this,b)};a.prototype.animateDrillupTo=function(b){x.prototype.animateDrillupTo.call(this,b)};a.prototype.doFullTranslate=function(){return this.isDirtyData||this.chart.isResizing||this.chart.renderer.isVML||
!this.baseTrans};a.prototype.drawMapDataLabels=function(){e.prototype.drawDataLabels.call(this);this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)};a.prototype.drawPoints=function(){var b=this,a=b.xAxis,c=b.yAxis,d=b.group,k=b.chart,e=k.renderer,q=this.baseTrans;b.transformGroup||(b.transformGroup=e.g().attr({scaleX:1,scaleY:1}).add(d),b.transformGroup.survive=!0);if(b.doFullTranslate())k.hasRendered&&!k.styledMode&&b.points.forEach(function(a){a.shapeArgs&&(a.shapeArgs.fill=b.pointAttribs(a,
a.state).fill)}),b.group=b.transformGroup,x.prototype.drawPoints.apply(b),b.group=d,b.points.forEach(function(a){if(a.graphic){var c="";a.name&&(c+="highcharts-name-"+a.name.replace(/ /g,"-").toLowerCase());a.properties&&a.properties["hc-key"]&&(c+=" highcharts-key-"+a.properties["hc-key"].toLowerCase());c&&a.graphic.addClass(c);k.styledMode&&a.graphic.css(b.pointAttribs(a,a.selected&&"select"||void 0))}}),this.baseTrans={originX:a.min-a.minPixelPadding/a.transA,originY:c.min-c.minPixelPadding/c.transA+
(c.reversed?0:c.len/c.transA),transAX:a.transA,transAY:c.transA},this.transformGroup.animate({translateX:0,translateY:0,scaleX:1,scaleY:1});else{var f=a.transA/q.transAX;var u=c.transA/q.transAY;var h=a.toPixels(q.originX,!0);var g=c.toPixels(q.originY,!0);.99<f&&1.01>f&&.99<u&&1.01>u&&(u=f=1,h=Math.round(h),g=Math.round(g));var l=this.transformGroup;if(k.renderer.globalAnimation){var m=l.attr("translateX");var D=l.attr("translateY");var F=l.attr("scaleX");var t=l.attr("scaleY");l.attr({animator:0}).animate({animator:1},
{step:function(b,a){l.attr({translateX:m+(h-m)*a.pos,translateY:D+(g-D)*a.pos,scaleX:F+(f-F)*a.pos,scaleY:t+(u-t)*a.pos})}})}else l.attr({translateX:h,translateY:g,scaleX:f,scaleY:u})}k.styledMode||d.element.setAttribute("stroke-width",w(b.options[b.pointAttrToOptions&&b.pointAttrToOptions["stroke-width"]||"borderWidth"],1)/(f||1));this.drawMapDataLabels()};a.prototype.getBox=function(b){var a=Number.MAX_VALUE,d=-a,k=a,e=-a,q=a,f=a,u=this.xAxis,r=this.yAxis,h;(b||[]).forEach(function(b){if(b.path){"string"===
typeof b.path?b.path=G(b.path):"M"===b.path[0]&&(b.path=c.prototype.pathToSegments(b.path));var u=b.path||[],r=-a,g=a,l=-a,m=a,D=b.properties;b._foundBox||(u.forEach(function(b){var a=b[b.length-2];b=b[b.length-1];"number"===typeof a&&"number"===typeof b&&(g=Math.min(g,a),r=Math.max(r,a),m=Math.min(m,b),l=Math.max(l,b))}),b._midX=g+(r-g)*w(b.middleX,D&&D["hc-middle-x"],.5),b._midY=m+(l-m)*w(b.middleY,D&&D["hc-middle-y"],.5),b._maxX=r,b._minX=g,b._maxY=l,b._minY=m,b.labelrank=w(b.labelrank,(r-g)*(l-
m)),b._foundBox=!0);d=Math.max(d,b._maxX);k=Math.min(k,b._minX);e=Math.max(e,b._maxY);q=Math.min(q,b._minY);f=Math.min(b._maxX-b._minX,b._maxY-b._minY,f);h=!0}});h&&(this.minY=Math.min(q,w(this.minY,a)),this.maxY=Math.max(e,w(this.maxY,-a)),this.minX=Math.min(k,w(this.minX,a)),this.maxX=Math.max(d,w(this.maxX,-a)),u&&"undefined"===typeof u.options.minRange&&(u.minRange=Math.min(5*f,(this.maxX-this.minX)/5,u.minRange||a)),r&&"undefined"===typeof r.options.minRange&&(r.minRange=Math.min(5*f,(this.maxY-
this.minY)/5,r.minRange||a)))};a.prototype.getExtremes=function(){var b=e.prototype.getExtremes.call(this,this.valueData),a=b.dataMin;b=b.dataMax;this.chart.hasRendered&&this.isDirtyData&&this.getBox(this.options.data);u(a)&&(this.valueMin=a);u(b)&&(this.valueMax=b);return{dataMin:this.minY,dataMax:this.maxY}};a.prototype.hasData=function(){return!!this.processedXData.length};a.prototype.pointAttribs=function(b,a){a=b.series.chart.styledMode?this.colorAttribs(b):x.prototype.pointAttribs.call(this,
b,a);a["stroke-width"]=w(b.options[this.pointAttrToOptions&&this.pointAttrToOptions["stroke-width"]||"borderWidth"],"inherit");return a};a.prototype.render=function(){var b=this,a=e.prototype.render;b.chart.renderer.isVML&&3E3<b.data.length?setTimeout(function(){a.call(b)}):a.call(b)};a.prototype.setData=function(b,a,c,d){var f=this.options,h=this.chart.options.chart,r=h&&h.map,g=f.mapData,w=this.joinBy,D=f.keys||this.pointArrayMap,F=[],A={},n=this.chart.mapTransforms;!g&&r&&(g="string"===typeof r?
t[r]:r);b&&b.forEach(function(a,c){var d=0;if(u(a))b[c]={value:a};else if(C(a)){b[c]={};!f.keys&&a.length>D.length&&"string"===typeof a[0]&&(b[c]["hc-key"]=a[0],++d);for(var k=0;k<D.length;++k,++d)D[k]&&"undefined"!==typeof a[d]&&(0<D[k].indexOf(".")?l.prototype.setNestedProperty(b[c],a[d],D[k]):b[c][D[k]]=a[d])}w&&"_i"===w[0]&&(b[c]._i=c)});this.getBox(b);(this.chart.mapTransforms=n=h.mapTransforms||g&&g["hc-transform"]||n)&&k(n,function(b){b.rotation&&(b.cosAngle=Math.cos(b.rotation),b.sinAngle=
Math.sin(b.rotation))});if(g){"FeatureCollection"===g.type&&(this.mapTitle=g.title,g=m.geojson(g,this.type,this));this.mapData=g;this.mapMap={};for(n=0;n<g.length;n++)h=g[n],r=h.properties,h._i=n,w[0]&&r&&r[w[0]]&&(h[w[0]]=r[w[0]]),A[h[w[0]]]=h;this.mapMap=A;if(b&&w[1]){var p=w[1];b.forEach(function(b){b=B(p,b);A[b]&&F.push(A[b])})}if(f.allAreas){this.getBox(g);b=b||[];if(w[1]){var E=w[1];b.forEach(function(b){F.push(B(E,b))})}F="|"+F.map(function(b){return b&&b[w[0]]}).join("|")+"|";g.forEach(function(a){w[0]&&
-1!==F.indexOf("|"+a[w[0]]+"|")||(b.push(q(a,{value:null})),d=!1)})}else this.getBox(F)}e.prototype.setData.call(this,b,a,c,d)};a.prototype.setOptions=function(b){b=e.prototype.setOptions.call(this,b);var a=b.joinBy;null===a&&(a="_i");a=this.joinBy=D(a);a[1]||(a[1]=a[0]);return b};a.prototype.translate=function(){var b=this,a=b.xAxis,c=b.yAxis,d=b.doFullTranslate();b.generatePoints();b.data.forEach(function(k){u(k._midX)&&u(k._midY)&&(k.plotX=a.toPixels(k._midX,!0),k.plotY=c.toPixels(k._midY,!0));
d&&(k.shapeType="path",k.shapeArgs={d:b.translatePath(k.path)})});y(b,"afterTranslate")};a.prototype.translatePath=function(b){var a=this.xAxis,c=this.yAxis,d=a.min,k=a.transA,e=a.minPixelPadding,q=c.min,f=c.transA,u=c.minPixelPadding,h=[];b&&b.forEach(function(b){"M"===b[0]?h.push(["M",(b[1]-(d||0))*k+e,(b[2]-(q||0))*f+u]):"L"===b[0]?h.push(["L",(b[1]-(d||0))*k+e,(b[2]-(q||0))*f+u]):"C"===b[0]?h.push(["C",(b[1]-(d||0))*k+e,(b[2]-(q||0))*f+u,(b[3]-(d||0))*k+e,(b[4]-(q||0))*f+u,(b[5]-(d||0))*k+e,(b[6]-
(q||0))*f+u]):"Q"===b[0]?h.push(["Q",(b[1]-(d||0))*k+e,(b[2]-(q||0))*f+u,(b[3]-(d||0))*k+e,(b[4]-(q||0))*f+u]):"Z"===b[0]&&h.push(["Z"])});return h};a.defaultOptions=q(z.defaultOptions,{animation:!1,dataLabels:{crop:!1,formatter:function(){return this.point.value},inside:!0,overflow:!1,padding:0,verticalAlign:"middle"},marker:null,nullColor:g.neutralColor3,stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},turboThreshold:0,allAreas:!0,borderColor:g.neutralColor20,
borderWidth:1,joinBy:"hc-key",states:{hover:{halo:null,brightness:.2},normal:{animation:!0},select:{color:g.neutralColor20},inactive:{opacity:1}}});return a}(z);p(d.prototype,{type:"map",axisTypes:a.axisTypes,colorAttribs:a.colorAttribs,colorKey:a.colorKey,directTouch:!0,drawDataLabels:b,drawGraph:b,drawLegendSymbol:n.drawRectangle,forceDL:!0,getExtremesFromAll:!0,getSymbol:a.getSymbol,parallelArrays:a.parallelArrays,pointArrayMap:a.pointArrayMap,pointClass:l,preserveAspectRatio:!0,searchPoint:b,
trackerGroups:a.trackerGroups,useMapGeometry:!0});h.registerSeriesType("map",d);"";return d});v(a,"Series/MapLine/MapLineSeries.js",[a["Series/Map/MapSeries.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,m,n){var t=this&&this.__extends||function(){var a=function(c,d){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(c,d)};return function(c,d){function e(){this.constructor=
c}a(c,d);c.prototype=null===d?Object.create(d):(e.prototype=d.prototype,new e)}}(),l=m.series,g=n.extend,e=n.merge;n=function(h){function c(){var a=null!==h&&h.apply(this,arguments)||this;a.data=void 0;a.options=void 0;a.points=void 0;return a}t(c,h);c.prototype.pointAttribs=function(c,e){c=a.prototype.pointAttribs.call(this,c,e);c.fill=this.options.fillColor;return c};c.defaultOptions=e(a.defaultOptions,{lineWidth:1,fillColor:"none"});return c}(a);g(n.prototype,{type:"mapline",colorProp:"stroke",
drawLegendSymbol:l.prototype.drawLegendSymbol,pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"}});m.registerSeriesType("mapline",n);"";return n});v(a,"Series/MapPoint/MapPointPoint.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,m){var t=this&&this.__extends||function(){var a=function(g,e){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])};return a(g,e)};return function(g,
e){function h(){this.constructor=g}a(g,e);g.prototype=null===e?Object.create(e):(h.prototype=e.prototype,new h)}}(),p=m.merge;return function(a){function g(){var e=null!==a&&a.apply(this,arguments)||this;e.options=void 0;e.series=void 0;return e}t(g,a);g.prototype.applyOptions=function(e,h){e="undefined"!==typeof e.lat&&"undefined"!==typeof e.lon?p(e,this.series.chart.fromLatLonToPoint(e)):e;return a.prototype.applyOptions.call(this,e,h)};return g}(a.seriesTypes.scatter.prototype.pointClass)});v(a,
"Series/MapPoint/MapPointSeries.js",[a["Series/MapPoint/MapPointPoint.js"],a["Core/Color/Palette.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,m,n,p){var l=this&&this.__extends||function(){var a=function(c,e){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])};return a(c,e)};return function(c,e){function b(){this.constructor=c}a(c,e);c.prototype=null===e?Object.create(e):
(b.prototype=e.prototype,new b)}}(),g=n.seriesTypes.scatter,e=p.extend,h=p.merge;p=function(a){function c(){var c=null!==a&&a.apply(this,arguments)||this;c.data=void 0;c.options=void 0;c.points=void 0;return c}l(c,a);c.prototype.drawDataLabels=function(){a.prototype.drawDataLabels.call(this);this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)};c.defaultOptions=h(g.defaultOptions,{dataLabels:{crop:!1,defer:!1,enabled:!0,formatter:function(){return this.point.name},overflow:!1,style:{color:m.neutralColor100}}});
return c}(g);e(p.prototype,{type:"mappoint",forceDL:!0,pointClass:a});n.registerSeriesType("mappoint",p);"";return p});v(a,"Series/Bubble/BubblePoint.js",[a["Core/Series/Point.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,m,n){var t=this&&this.__extends||function(){var a=function(g,e){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])};return a(g,e)};return function(g,e){function h(){this.constructor=
g}a(g,e);g.prototype=null===e?Object.create(e):(h.prototype=e.prototype,new h)}}();n=n.extend;m=function(l){function g(){var a=null!==l&&l.apply(this,arguments)||this;a.options=void 0;a.series=void 0;return a}t(g,l);g.prototype.haloPath=function(e){return a.prototype.haloPath.call(this,0===e?0:(this.marker?this.marker.radius||0:0)+e)};return g}(m.seriesTypes.scatter.prototype.pointClass);n(m.prototype,{ttBelow:!1});return m});v(a,"Series/Bubble/BubbleLegend.js",[a["Core/Chart/Chart.js"],a["Core/Color/Color.js"],
a["Core/FormatUtilities.js"],a["Core/Globals.js"],a["Core/Legend.js"],a["Core/Options.js"],a["Core/Color/Palette.js"],a["Core/Series/Series.js"],a["Core/Utilities.js"]],function(a,m,n,p,l,g,e,h,c){var d=m.parse,f=p.noop;g=g.setOptions;m=c.addEvent;var b=c.arrayMax,t=c.arrayMin,G=c.isNumber,x=c.merge,z=c.objectEach,y=c.pick,B=c.stableSort;c=c.wrap;"";g({legend:{bubbleLegend:{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,
connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"10px",color:e.neutralColor100},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}});e=function(){function a(b,a){this.options=this.symbols=this.visible=this.ranges=this.movementX=this.maxLabel=this.legendSymbol=this.legendItemWidth=this.legendItemHeight=
this.legendItem=this.legendGroup=this.legend=this.fontMetrics=this.chart=void 0;this.setState=f;this.init(b,a)}a.prototype.init=function(b,a){this.options=b;this.visible=!0;this.chart=a.chart;this.legend=a};a.prototype.addToLegend=function(b){b.splice(this.options.legendIndex,0,this)};a.prototype.drawLegendSymbol=function(b){var a=this.chart,c=this.options,d=y(b.options.itemDistance,20),e=c.ranges;var f=c.connectorDistance;this.fontMetrics=a.renderer.fontMetrics(c.labels.style.fontSize);e&&e.length&&
G(e[0].value)?(B(e,function(b,a){return a.value-b.value}),this.ranges=e,this.setOptions(),this.render(),a=this.getMaxLabelSize(),e=this.ranges[0].radius,b=2*e,f=f-e+a.width,f=0<f?f:0,this.maxLabel=a,this.movementX="left"===c.labels.align?f:0,this.legendItemWidth=b+f+d,this.legendItemHeight=b+this.fontMetrics.h/2):b.options.bubbleLegend.autoRanges=!0};a.prototype.setOptions=function(){var b=this.ranges,a=this.options,c=this.chart.series[a.seriesIndex],e=this.legend.baseline,f={zIndex:a.zIndex,"stroke-width":a.borderWidth},
h={zIndex:a.zIndex,"stroke-width":a.connectorWidth},g={align:this.legend.options.rtl||"left"===a.labels.align?"right":"left",zIndex:a.zIndex},r=c.options.marker.fillOpacity,l=this.chart.styledMode;b.forEach(function(k,q){l||(f.stroke=y(k.borderColor,a.borderColor,c.color),f.fill=y(k.color,a.color,1!==r?d(c.color).setOpacity(r).get("rgba"):c.color),h.stroke=y(k.connectorColor,a.connectorColor,c.color));b[q].radius=this.getRangeRadius(k.value);b[q]=x(b[q],{center:b[0].radius-b[q].radius+e});l||x(!0,
b[q],{bubbleAttribs:x(f),connectorAttribs:x(h),labelAttribs:g})},this)};a.prototype.getRangeRadius=function(b){var a=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,a.ranges[a.ranges.length-1].value,a.ranges[0].value,a.minSize,a.maxSize,b)};a.prototype.render=function(){var b=this.chart.renderer,a=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]});this.legendSymbol=b.g("bubble-legend");this.legendItem=b.g("bubble-legend-item");
this.legendSymbol.translateX=0;this.legendSymbol.translateY=0;this.ranges.forEach(function(b){b.value>=a&&this.renderRange(b)},this);this.legendSymbol.add(this.legendItem);this.legendItem.add(this.legendGroup);this.hideOverlappingLabels()};a.prototype.renderRange=function(b){var a=this.options,c=a.labels,d=this.chart,e=d.series[a.seriesIndex],f=d.renderer,h=this.symbols;d=h.labels;var u=b.center,g=Math.abs(b.radius),l=a.connectorDistance||0,m=c.align;l=this.legend.options.rtl||"left"===m?-l:l;var t=
a.connectorWidth,n=this.ranges[0].radius||0,p=u-g-a.borderWidth/2+t/2,C=this.fontMetrics;C=C.f/2-(C.h-C.f)/2;var E=f.styledMode;"center"===m&&(l=0,a.connectorDistance=0,b.labelAttribs.align="center");m=p+a.labels.y;var B=n+l+a.labels.x;h.bubbleItems.push(f.circle(n,u+((p%1?1:.5)-(t%2?0:.5)),g).attr(E?{}:b.bubbleAttribs).addClass((E?"highcharts-color-"+e.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(a.className||"")).add(this.legendSymbol));h.connectors.push(f.path(f.crispLine([["M",n,p],
["L",n+l,p]],a.connectorWidth)).attr(E?{}:b.connectorAttribs).addClass((E?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(a.connectorClassName||"")).add(this.legendSymbol));b=f.text(this.formatLabel(b),B,m+C).attr(E?{}:b.labelAttribs).css(E?{}:c.style).addClass("highcharts-bubble-legend-labels "+(a.labels.className||"")).add(this.legendSymbol);d.push(b);b.placed=!0;b.alignAttr={x:B,y:m+C}};a.prototype.getMaxLabelSize=function(){var b,a;this.symbols.labels.forEach(function(c){a=
c.getBBox(!0);b=b?a.width>b.width?a:b:a});return b||{}};a.prototype.formatLabel=function(b){var a=this.options,c=a.labels.formatter;a=a.labels.format;var d=this.chart.numberFormatter;return a?n.format(a,b):c?c.call(b):d(b.value,1)};a.prototype.hideOverlappingLabels=function(){var b=this.chart,a=this.symbols;!this.options.labels.allowOverlap&&a&&(b.hideOverlappingLabels(a.labels),a.labels.forEach(function(b,c){b.newOpacity?b.newOpacity!==b.oldOpacity&&a.connectors[c].show():a.connectors[c].hide()}))};
a.prototype.getRanges=function(){var a=this.legend.bubbleLegend,c=a.options.ranges,d,e=Number.MAX_VALUE,f=-Number.MAX_VALUE;a.chart.series.forEach(function(a){a.isBubble&&!a.ignoreSeries&&(d=a.zData.filter(G),d.length&&(e=y(a.options.zMin,Math.min(e,Math.max(t(d),!1===a.options.displayNegative?a.options.zThreshold:-Number.MAX_VALUE))),f=y(a.options.zMax,Math.max(f,b(d)))))});var h=e===f?[{value:f}]:[{value:e},{value:(e+f)/2},{value:f,autoRanges:!0}];c.length&&c[0].radius&&h.reverse();h.forEach(function(b,
a){c&&c[a]&&(h[a]=x(c[a],b))});return h};a.prototype.predictBubbleSizes=function(){var a=this.chart,b=this.fontMetrics,c=a.legend.options,d="horizontal"===c.layout,e=d?a.legend.lastLineHeight:0,f=a.plotSizeX,h=a.plotSizeY,g=a.series[this.options.seriesIndex];a=Math.ceil(g.minPxSize);var l=Math.ceil(g.maxPxSize);g=g.options.maxSize;var m=Math.min(h,f);if(c.floating||!/%$/.test(g))b=l;else if(g=parseFloat(g),b=(m+e-b.h/2)*g/100/(g/100+1),d&&h-b>=f||!d&&f-b>=h)b=l;return[a,Math.ceil(b)]};a.prototype.updateRanges=
function(a,b){var c=this.legend.options.bubbleLegend;c.minSize=a;c.maxSize=b;c.ranges=this.getRanges()};a.prototype.correctSizes=function(){var a=this.legend,b=this.chart.series[this.options.seriesIndex];1<Math.abs(Math.ceil(b.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,b.maxPxSize),a.render())};return a}();m(l,"afterGetAllItems",function(a){var b=this.bubbleLegend,c=this.options,d=c.bubbleLegend,e=this.chart.getVisibleBubbleSeriesIndex();b&&b.ranges&&b.ranges.length&&
(d.ranges.length&&(d.autoRanges=!!d.ranges[0].autoRanges),this.destroyItem(b));0<=e&&c.enabled&&d.enabled&&(d.seriesIndex=e,this.bubbleLegend=new p.BubbleLegend(d,this),this.bubbleLegend.addToLegend(a.allItems))});a.prototype.getVisibleBubbleSeriesIndex=function(){for(var b=this.series,a=0;a<b.length;){if(b[a]&&b[a].isBubble&&b[a].visible&&b[a].zData.length)return a;a++}return-1};l.prototype.getLinesHeights=function(){var b=this.allItems,a=[],c=b.length,d,e=0;for(d=0;d<c;d++)if(b[d].legendItemHeight&&
(b[d].itemHeight=b[d].legendItemHeight),b[d]===b[c-1]||b[d+1]&&b[d]._legendItemPos[1]!==b[d+1]._legendItemPos[1]){a.push({height:0});var f=a[a.length-1];for(e;e<=d;e++)b[e].itemHeight>f.height&&(f.height=b[e].itemHeight);f.step=d}return a};l.prototype.retranslateItems=function(b){var a,c,d,e=this.options.rtl,f=0;this.allItems.forEach(function(k,h){a=k.legendGroup.translateX;c=k._legendItemPos[1];if((d=k.movementX)||e&&k.ranges)d=e?a-k.options.maxSize/2:a+d,k.legendGroup.attr({translateX:d});h>b[f].step&&
f++;k.legendGroup.attr({translateY:Math.round(c+b[f].height/2)});k._legendItemPos[1]=c+b[f].height/2})};m(h,"legendItemClick",function(){var b=this.chart,a=this.visible,c=this.chart.legend;c&&c.bubbleLegend&&(this.visible=!a,this.ignoreSeries=a,b=0<=b.getVisibleBubbleSeriesIndex(),c.bubbleLegend.visible!==b&&(c.update({bubbleLegend:{enabled:b}}),c.bubbleLegend.visible=b),this.visible=a)});c(a.prototype,"drawChartBox",function(b,a,c){var d=this.legend,e=0<=this.getVisibleBubbleSeriesIndex();if(d&&
d.options.enabled&&d.bubbleLegend&&d.options.bubbleLegend.autoRanges&&e){var f=d.bubbleLegend.options;e=d.bubbleLegend.predictBubbleSizes();d.bubbleLegend.updateRanges(e[0],e[1]);f.placed||(d.group.placed=!1,d.allItems.forEach(function(b){b.legendGroup.translateY=null}));d.render();this.getMargins();this.axes.forEach(function(b){b.visible&&b.render();f.placed||(b.setScale(),b.updateNames(),z(b.ticks,function(b){b.isNew=!0;b.isNewLabel=!0}))});f.placed=!0;this.getMargins();b.call(this,a,c);d.bubbleLegend.correctSizes();
d.retranslateItems(d.getLinesHeights())}else b.call(this,a,c),d&&d.options.enabled&&d.bubbleLegend&&(d.render(),d.retranslateItems(d.getLinesHeights()))});p.BubbleLegend=e;return p.BubbleLegend});v(a,"Series/Bubble/BubbleSeries.js",[a["Core/Axis/Axis.js"],a["Series/Bubble/BubblePoint.js"],a["Core/Color/Color.js"],a["Core/Globals.js"],a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,m,n,p,l,g,e){var h=this&&this.__extends||function(){var b=function(a,
c){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])};return b(a,c)};return function(a,c){function d(){this.constructor=a}b(a,c);a.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),c=n.parse;n=p.noop;var d=g.seriesTypes;p=d.column;var f=d.scatter,b=e.arrayMax,t=e.arrayMin,G=e.clamp,x=e.extend,z=e.isNumber,y=e.merge,B=e.pick,C=e.pInt;e=function(b){function a(){var a=null!==b&&b.apply(this,
arguments)||this;a.data=void 0;a.maxPxSize=void 0;a.minPxSize=void 0;a.options=void 0;a.points=void 0;a.radii=void 0;a.yData=void 0;a.zData=void 0;return a}h(a,b);a.prototype.animate=function(a){!a&&this.points.length<this.options.animationLimit&&this.points.forEach(function(a){var b=a.graphic;b&&b.width&&(this.hasRendered||b.attr({x:a.plotX,y:a.plotY,width:1,height:1}),b.animate(this.markerAttribs(a),this.options.animation))},this)};a.prototype.getRadii=function(a,b,c){var d=this.zData,e=this.yData,
f=c.minPxSize,k=c.maxPxSize,h=[];var g=0;for(c=d.length;g<c;g++){var l=d[g];h.push(this.getRadius(a,b,f,k,l,e[g]))}this.radii=h};a.prototype.getRadius=function(a,b,c,d,e,f){var k=this.options,h="width"!==k.sizeBy,g=k.zThreshold,l=b-a,m=.5;if(null===f||null===e)return null;if(z(e)){k.sizeByAbsoluteValue&&(e=Math.abs(e-g),l=Math.max(b-g,Math.abs(a-g)),a=0);if(e<a)return c/2-1;0<l&&(m=(e-a)/l)}h&&0<=m&&(m=Math.sqrt(m));return Math.ceil(c+m*(d-c))/2};a.prototype.hasData=function(){return!!this.processedXData.length};
a.prototype.pointAttribs=function(a,b){var d=this.options.marker.fillOpacity;a=l.prototype.pointAttribs.call(this,a,b);1!==d&&(a.fill=c(a.fill).setOpacity(d).get("rgba"));return a};a.prototype.translate=function(){var a,c=this.data,d=this.radii;b.prototype.translate.call(this);for(a=c.length;a--;){var e=c[a];var f=d?d[a]:0;z(f)&&f>=this.minPxSize/2?(e.marker=x(e.marker,{radius:f,width:2*f,height:2*f}),e.dlBox={x:e.plotX-f,y:e.plotY-f,width:2*f,height:2*f}):e.shapeArgs=e.plotY=e.dlBox=void 0}};a.defaultOptions=
y(f.defaultOptions,{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"});return a}(f);x(e.prototype,{alignDataLabel:p.prototype.alignDataLabel,applyZones:n,bubblePadding:!0,
buildKDTree:n,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:m,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"});a.prototype.beforePadding=function(){var a=this,c=this.len,d=this.chart,e=0,f=c,h=this.isXAxis,g=h?"xData":"yData",l=this.min,m={},n=Math.min(d.plotWidth,d.plotHeight),p=Number.MAX_VALUE,E=-Number.MAX_VALUE,x=this.max-l,y=c/x,v=[];this.series.forEach(function(c){var e=c.options;!c.bubblePadding||!c.visible&&d.options.chart.ignoreHiddenSeries||
(a.allowZoomOutside=!0,v.push(c),h&&(["minSize","maxSize"].forEach(function(a){var b=e[a],c=/%$/.test(b);b=C(b);m[a]=c?n*b/100:b}),c.minPxSize=m.minSize,c.maxPxSize=Math.max(m.maxSize,m.minSize),c=c.zData.filter(z),c.length&&(p=B(e.zMin,G(t(c),!1===e.displayNegative?e.zThreshold:-Number.MAX_VALUE,p)),E=B(e.zMax,Math.max(E,b(c))))))});v.forEach(function(b){var c=b[g],d=c.length;h&&b.getRadii(p,E,b);if(0<x)for(;d--;)if(z(c[d])&&a.dataMin<=c[d]&&c[d]<=a.max){var k=b.radii?b.radii[d]:0;e=Math.min((c[d]-
l)*y-k,e);f=Math.max((c[d]-l)*y+k,f)}});v.length&&0<x&&!this.logarithmic&&(f-=c,y*=(c+Math.max(0,e)-Math.min(f,c))/c,[["min","userMin",e],["max","userMax",f]].forEach(function(b){"undefined"===typeof B(a.options[b[0]],a[b[1]])&&(a[b[0]]+=b[2]/y)}))};g.registerSeriesType("bubble",e);"";"";return e});v(a,"Series/MapBubble/MapBubblePoint.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,m){var n=this&&this.__extends||function(){var a=function(e,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return a(e,c)};return function(e,c){function d(){this.constructor=e}a(e,c);e.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),t=a.seriesTypes,l=t.map;a=m.extend;var g=m.merge;m=function(a){function e(){return null!==a&&a.apply(this,arguments)||this}n(e,a);e.prototype.applyOptions=function(c,d){return c&&"undefined"!==typeof c.lat&&"undefined"!==typeof c.lon?a.prototype.applyOptions.call(this,
g(c,this.series.chart.fromLatLonToPoint(c)),d):l.prototype.pointClass.prototype.applyOptions.call(this,c,d)};e.prototype.isValid=function(){return"number"===typeof this.z};return e}(t.bubble.prototype.pointClass);a(m.prototype,{ttBelow:!1});return m});v(a,"Series/MapBubble/MapBubbleSeries.js",[a["Series/Bubble/BubbleSeries.js"],a["Series/MapBubble/MapBubblePoint.js"],a["Series/Map/MapSeries.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,m,n,p,l){var g=this&&this.__extends||
function(){var a=function(c,e){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return a(c,e)};return function(c,e){function b(){this.constructor=c}a(c,e);c.prototype=null===e?Object.create(e):(b.prototype=e.prototype,new b)}}(),e=l.extend,h=l.merge;l=function(c){function d(){var a=null!==c&&c.apply(this,arguments)||this;a.data=void 0;a.options=void 0;a.points=void 0;return a}g(d,c);d.defaultOptions=
h(a.defaultOptions,{animationLimit:500,tooltip:{pointFormat:"{point.name}: {point.z}"}});return d}(a);e(l.prototype,{type:"mapbubble",getBox:n.prototype.getBox,pointArrayMap:["z"],pointClass:m,setData:n.prototype.setData,setOptions:n.prototype.setOptions,xyFromShape:!0});p.registerSeriesType("mapbubble",l);"";return l});v(a,"Series/Heatmap/HeatmapPoint.js",[a["Mixins/ColorMapSeries.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,m,n){var p=this&&this.__extends||function(){var a=
function(c,d){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(c,d)};return function(c,d){function e(){this.constructor=c}a(c,d);c.prototype=null===d?Object.create(d):(e.prototype=d.prototype,new e)}}();a=a.colorMapPointMixin;var l=n.clamp,g=n.extend,e=n.pick;m=function(a){function c(){var c=null!==a&&a.apply(this,arguments)||this;c.options=void 0;c.series=void 0;c.value=void 0;c.x=void 0;
c.y=void 0;return c}p(c,a);c.prototype.applyOptions=function(c,e){c=a.prototype.applyOptions.call(this,c,e);c.formatPrefix=c.isNull||null===c.value?"null":"point";return c};c.prototype.getCellAttributes=function(){var a=this.series,c=a.options,b=(c.colsize||1)/2,g=(c.rowsize||1)/2,h=a.xAxis,m=a.yAxis,n=this.options.marker||a.options.marker;a=a.pointPlacementToXValue();var p=e(this.pointPadding,c.pointPadding,0),t={x1:l(Math.round(h.len-(h.translate(this.x-b,!1,!0,!1,!0,-a)||0)),-h.len,2*h.len),x2:l(Math.round(h.len-
(h.translate(this.x+b,!1,!0,!1,!0,-a)||0)),-h.len,2*h.len),y1:l(Math.round(m.translate(this.y-g,!1,!0,!1,!0)||0),-m.len,2*m.len),y2:l(Math.round(m.translate(this.y+g,!1,!0,!1,!0)||0),-m.len,2*m.len)};[["width","x"],["height","y"]].forEach(function(a){var b=a[0];a=a[1];var c=a+"1",d=a+"2",e=Math.abs(t[c]-t[d]),f=n&&n.lineWidth||0,g=Math.abs(t[c]+t[d])/2;n[b]&&n[b]<e&&(t[c]=g-n[b]/2-f/2,t[d]=g+n[b]/2+f/2);p&&("y"===a&&(c=d,d=a+"1"),t[c]+=p,t[d]-=p)});return t};c.prototype.haloPath=function(a){if(!a)return[];
var c=this.shapeArgs;return["M",c.x-a,c.y-a,"L",c.x-a,c.y+c.height+a,c.x+c.width+a,c.y+c.height+a,c.x+c.width+a,c.y-a,"Z"]};c.prototype.isValid=function(){return Infinity!==this.value&&-Infinity!==this.value};return c}(m.seriesTypes.scatter.prototype.pointClass);g(m.prototype,{dataLabelOnNull:a.dataLabelOnNull,moveToTopOnHover:a.moveToTopOnHover});return m});v(a,"Series/Heatmap/HeatmapSeries.js",[a["Mixins/ColorMapSeries.js"],a["Core/Globals.js"],a["Series/Heatmap/HeatmapPoint.js"],a["Mixins/LegendSymbol.js"],
a["Core/Color/Palette.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],function(a,m,n,p,l,g,e,h){var c=this&&this.__extends||function(){var a=function(b,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();
a=a.colorMapSeriesMixin;var d=g.series,f=g.seriesTypes,b=f.column,t=f.scatter,v=e.prototype.symbols,x=h.extend,z=h.fireEvent,y=h.isNumber,B=h.merge,C=h.pick;e=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.colorAxis=void 0;b.data=void 0;b.options=void 0;b.points=void 0;b.valueMax=NaN;b.valueMin=NaN;return b}c(b,a);b.prototype.drawPoints=function(){var a=this;if((this.options.marker||{}).enabled||this._hasPointMarkers)d.prototype.drawPoints.call(this),this.points.forEach(function(b){b.graphic&&
b.graphic[a.chart.styledMode?"css":"animate"](a.colorAttribs(b))})};b.prototype.getExtremes=function(){var a=d.prototype.getExtremes.call(this,this.valueData),b=a.dataMin;a=a.dataMax;y(b)&&(this.valueMin=b);y(a)&&(this.valueMax=a);return d.prototype.getExtremes.call(this)};b.prototype.getValidPoints=function(a,b){return d.prototype.getValidPoints.call(this,a,b,!0)};b.prototype.hasData=function(){return!!this.processedXData.length};b.prototype.init=function(){d.prototype.init.apply(this,arguments);
var a=this.options;a.pointRange=C(a.pointRange,a.colsize||1);this.yAxis.axisPointRange=a.rowsize||1;x(v,{ellipse:v.circle})};b.prototype.markerAttribs=function(a,b){var c=a.marker||{},d=this.options.marker||{},e=a.shapeArgs||{},f={};if(a.hasImage)return{x:a.plotX,y:a.plotY};if(b){var g=d.states[b]||{};var k=c.states&&c.states[b]||{};[["width","x"],["height","y"]].forEach(function(a){f[a[0]]=(k[a[0]]||g[a[0]]||e[a[0]])+(k[a[0]+"Plus"]||g[a[0]+"Plus"]||0);f[a[1]]=e[a[1]]+(e[a[0]]-f[a[0]])/2})}return b?
f:e};b.prototype.pointAttribs=function(a,b){var c=d.prototype.pointAttribs.call(this,a,b),e=this.options||{},f=this.chart.options.plotOptions||{},g=f.series||{},h=f.heatmap||{};f=e.borderColor||h.borderColor||g.borderColor;g=e.borderWidth||h.borderWidth||g.borderWidth||c["stroke-width"];c.stroke=a&&a.marker&&a.marker.lineColor||e.marker&&e.marker.lineColor||f||this.color;c["stroke-width"]=g;b&&(a=B(e.states[b],e.marker&&e.marker.states[b],a&&a.options.states&&a.options.states[b]||{}),b=a.brightness,
c.fill=a.color||m.color(c.fill).brighten(b||0).get(),c.stroke=a.lineColor);return c};b.prototype.setClip=function(a){var b=this.chart;d.prototype.setClip.apply(this,arguments);(!1!==this.options.clip||a)&&this.markerGroup.clip((a||this.clipBox)&&this.sharedClipKey?b.sharedClips[this.sharedClipKey]:b.clipRect)};b.prototype.translate=function(){var a=this.options,b=a.marker&&a.marker.symbol||"",c=v[b]?b:"rect",d=-1!==["circle","square"].indexOf(c);this.generatePoints();this.points.forEach(function(a){var e=
a.getCellAttributes(),f={};f.x=Math.min(e.x1,e.x2);f.y=Math.min(e.y1,e.y2);f.width=Math.max(Math.abs(e.x2-e.x1),0);f.height=Math.max(Math.abs(e.y2-e.y1),0);var g=a.hasImage=0===(a.marker&&a.marker.symbol||b||"").indexOf("url");if(d){var h=Math.abs(f.width-f.height);f.x=Math.min(e.x1,e.x2)+(f.width<f.height?0:h/2);f.y=Math.min(e.y1,e.y2)+(f.width<f.height?h/2:0);f.width=f.height=Math.min(f.width,f.height)}h={plotX:(e.x1+e.x2)/2,plotY:(e.y1+e.y2)/2,clientX:(e.x1+e.x2)/2,shapeType:"path",shapeArgs:B(!0,
f,{d:v[c](f.x,f.y,f.width,f.height)})};g&&(a.marker={width:f.width,height:f.height});x(a,h)});z(this,"afterTranslate")};b.defaultOptions=B(t.defaultOptions,{animation:!1,borderWidth:0,nullColor:l.neutralColor3,dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},
states:{hover:{halo:!1,brightness:.2}}});return b}(t);x(e.prototype,{alignDataLabel:b.prototype.alignDataLabel,axisTypes:a.axisTypes,colorAttribs:a.colorAttribs,colorKey:a.colorKey,directTouch:!0,drawLegendSymbol:p.drawRectangle,getExtremesFromAll:!0,getSymbol:d.prototype.getSymbol,parallelArrays:a.parallelArrays,pointArrayMap:["y","value"],pointClass:n,trackerGroups:a.trackerGroups});g.registerSeriesType("heatmap",e);"";"";return e});v(a,"Extensions/GeoJSON.js",[a["Core/Chart/Chart.js"],a["Core/FormatUtilities.js"],
a["Core/Globals.js"],a["Core/Utilities.js"]],function(a,m,n,p){function l(a,b){var c,d=!1,e=a.x,f=a.y;a=0;for(c=b.length-1;a<b.length;c=a++){var g=b[a][1]>f;var h=b[c][1]>f;g!==h&&e<(b[c][0]-b[a][0])*(f-b[a][1])/(b[c][1]-b[a][1])+b[a][0]&&(d=!d)}return d}var g=m.format,e=n.win,h=p.error,c=p.extend,d=p.merge;m=p.wrap;"";a.prototype.transformFromLatLon=function(a,b){var c=this.userOptions.chart&&this.userOptions.chart.proj4||e.proj4;if(!c)return h(21,!1,this),{x:0,y:null};a=c(b.crs,[a.lon,a.lat]);c=
b.cosAngle||b.rotation&&Math.cos(b.rotation);var d=b.sinAngle||b.rotation&&Math.sin(b.rotation);a=b.rotation?[a[0]*c+a[1]*d,-a[0]*d+a[1]*c]:a;return{x:((a[0]-(b.xoffset||0))*(b.scale||1)+(b.xpan||0))*(b.jsonres||1)+(b.jsonmarginX||0),y:(((b.yoffset||0)-a[1])*(b.scale||1)+(b.ypan||0))*(b.jsonres||1)-(b.jsonmarginY||0)}};a.prototype.transformToLatLon=function(a,b){if("undefined"===typeof e.proj4)h(21,!1,this);else{a={x:((a.x-(b.jsonmarginX||0))/(b.jsonres||1)-(b.xpan||0))/(b.scale||1)+(b.xoffset||0),
y:((-a.y-(b.jsonmarginY||0))/(b.jsonres||1)+(b.ypan||0))/(b.scale||1)+(b.yoffset||0)};var c=b.cosAngle||b.rotation&&Math.cos(b.rotation),d=b.sinAngle||b.rotation&&Math.sin(b.rotation);b=e.proj4(b.crs,"WGS84",b.rotation?{x:a.x*c+a.y*-d,y:a.x*d+a.y*c}:a);return{lat:b.y,lon:b.x}}};a.prototype.fromPointToLatLon=function(a){var b=this.mapTransforms,c;if(b){for(c in b)if(Object.hasOwnProperty.call(b,c)&&b[c].hitZone&&l({x:a.x,y:-a.y},b[c].hitZone.coordinates[0]))return this.transformToLatLon(a,b[c]);return this.transformToLatLon(a,
b["default"])}h(22,!1,this)};a.prototype.fromLatLonToPoint=function(a){var b=this.mapTransforms,c;if(!b)return h(22,!1,this),{x:0,y:null};for(c in b)if(Object.hasOwnProperty.call(b,c)&&b[c].hitZone){var d=this.transformFromLatLon(a,b[c]);if(l({x:d.x,y:-d.y},b[c].hitZone.coordinates[0]))return d}return this.transformFromLatLon(a,b["default"])};n.geojson=function(a,b,d){var e=[],f=[],h=function(a){a.forEach(function(a,b){0===b?f.push(["M",a[0],-a[1]]):f.push(["L",a[0],-a[1]])})};b=b||"map";a.features.forEach(function(a){var d=
a.geometry,g=d.type;d=d.coordinates;a=a.properties;var l;f=[];"map"===b||"mapbubble"===b?("Polygon"===g?(d.forEach(h),f.push(["Z"])):"MultiPolygon"===g&&(d.forEach(function(a){a.forEach(h)}),f.push(["Z"])),f.length&&(l={path:f})):"mapline"===b?("LineString"===g?h(d):"MultiLineString"===g&&d.forEach(h),f.length&&(l={path:f})):"mappoint"===b&&"Point"===g&&(l={x:d[0],y:-d[1]});l&&e.push(c(l,{name:a.name||a.NAME,properties:a}))});d&&a.copyrightShort&&(d.chart.mapCredits=g(d.chart.options.credits.mapText,
{geojson:a}),d.chart.mapCreditsFull=g(d.chart.options.credits.mapTextFull,{geojson:a}));return e};m(a.prototype,"addCredits",function(a,b){b=d(!0,this.options.credits,b);this.mapCredits&&(b.href=null);a.call(this,b);this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})})});v(a,"masters/modules/map.src.js",[a["Core/Globals.js"],a["Core/Chart/MapChart.js"]],function(a,m){a.MapChart=m;a.mapChart=a.Map=m.mapChart;a.maps=m.maps})});
//# sourceMappingURL=map.js.map